<!DOCTYPE html>
<html>
  <head>
    <title>Testing Socket.io</title>
  </head>
  <body>
    <h1 id='socket'>not connected</h1>
    <p id='battery'> </p>
    <p id='cpu'> </p>
    <p id='memory'> </p>


    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io();

      socket.on('connect', function(){
        document.getElementById('socket').innerHTML = 'connected to the server';
      });

      socket.on('sendDataToWebPage', function(info){
        document.getElementById('battery').innerHTML = 'Battery: ' + (info.battery*100).toFixed(2) + '%';
        document.getElementById('cpu').innerHTML = 'CPU: ' + (info.cpu*100).toFixed(2) + '%';
        document.getElementById('memory').innerHTML = 'Memory: ' + (info.memory*100).toFixed(2) + '%';
      });

      socket.on('disconnected',function(){
        document.getElementById('socket').innerHTML = 'disconnected';
      });

    </script>
  </body>
</html>
